<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberSecure Pro - Security Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cyber-black: #0a0e27;
            --cyber-dark: #0f1729;
            --cyber-darker: #1a1f3a;
            --cyber-blue: #0066ff;
            --cyber-cyan: #00d4ff;
            --cyber-green: #00ff88;
            --cyber-red: #ff0055;
            --cyber-amber: #ffaa00;
            --cyber-text: #e0e7ff;
            --cyber-text-dim: #8892b0;
            --cyber-border: rgba(0, 212, 255, 0.2);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--cyber-black);
            color: var(--cyber-text);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Login Page Styles */
        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            position: relative;
        }
        .cyber-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .grid-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridScroll 20s linear infinite;
        }
        @keyframes gridScroll {
            0% { transform: translateY(0); }
            100% { transform: translateY(50px); }
        }
        .circuit-lines {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 20% 30%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 255, 136, 0.1) 0%, transparent 50%);
            animation: pulse 8s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        .auth-container {
            position: relative;
            z-index: 1;
            width: 100%;
            max-width: 450px;
            padding: 20px;
        }
        .security-badge {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            animation: fadeInDown 0.6s ease-out;
        }
        .shield-icon {
            width: 60px;
            height: 60px;
            color: var(--cyber-cyan);
            filter: drop-shadow(0 0 20px var(--cyber-cyan));
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .auth-card {
            background: rgba(15, 23, 41, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid var(--cyber-border);
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: slideInUp 0.6s ease-out;
        }
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .auth-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 32px;
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--cyber-cyan), var(--cyber-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 2px;
        }
        .auth-subtitle {
            text-align: center;
            color: var(--cyber-text-dim);
            font-size: 14px;
            margin-bottom: 30px;
        }
        .login-mode-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            background: rgba(26, 31, 58, 0.5);
            padding: 5px;
            border-radius: 8px;
            border: 1px solid var(--cyber-border);
        }
        .toggle-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: transparent;
            color: var(--cyber-text-dim);
            font-family: 'Rajdhani', sans-serif;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .toggle-btn.active {
            background: linear-gradient(135deg, var(--cyber-blue), var(--cyber-cyan));
            color: white;
            box-shadow: 0 4px 15px rgba(0, 102, 255, 0.4);
        }
        .form-group {
            position: relative;
            margin-bottom: 20px;
        }
        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }
        .input-icon {
            position: absolute;
            left: 15px;
            width: 20px;
            height: 20px;
            color: var(--cyber-cyan);
            z-index: 1;
        }
        .cyber-input {
            width: 100%;
            padding: 14px 15px 14px 45px;
            background: rgba(26, 31, 58, 0.5);
            border: 1px solid var(--cyber-border);
            border-radius: 8px;
            color: var(--cyber-text);
            font-family: 'Rajdhani', sans-serif;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        .cyber-input:focus {
            outline: none;
            border-color: var(--cyber-cyan);
            background: rgba(26, 31, 58, 0.8);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
        }
        .phone-input {
            display: grid;
            grid-template-columns: 80px 1fr;
            gap: 10px;
        }
        .country-code {
            padding: 14px 10px;
            background: rgba(26, 31, 58, 0.5);
            border: 1px solid var(--cyber-border);
            border-radius: 8px;
            color: var(--cyber-text);
            font-family: 'Rajdhani', sans-serif;
            font-size: 16px;
            cursor: pointer;
        }
        .country-code:focus {
            outline: none;
            border-color: var(--cyber-cyan);
        }
        .phone-number {
            padding-left: 15px;
        }
        .toggle-password {
            position: absolute;
            right: 15px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
        }
        .eye-icon {
            width: 20px;
            height: 20px;
            color: var(--cyber-text-dim);
            transition: color 0.3s ease;
        }
        .toggle-password:hover .eye-icon {
            color: var(--cyber-cyan);
        }
        .cyber-btn {
            width: 100%;
            padding: 14px 24px;
            border: none;
            border-radius: 8px;
            font-family: 'Orbitron', sans-serif;
            font-size: 15px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            background: linear-gradient(135deg, var(--cyber-blue), var(--cyber-cyan));
            color: white;
            box-shadow: 0 5px 25px rgba(0, 102, 255, 0.4);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .cyber-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 212, 255, 0.6);
        }
        .cyber-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .btn-arrow {
            width: 20px;
            height: 20px;
        }
        .alert-box {
            padding: 12px 15px;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 15px;
            display: none;
        }
        .alert-box.error {
            background: rgba(255, 0, 85, 0.1);
            border: 1px solid var(--cyber-red);
            color: var(--cyber-red);
        }
        .alert-box.success {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--cyber-green);
            color: var(--cyber-green);
        }
        
        /* Main App Styles */
        .main-app {
            display: none;
            min-height: 100vh;
        }
        .navbar {
            background: rgba(17, 20, 34, 0.95);
            backdrop-filter: blur(14px);
            border-bottom: 1px solid var(--cyber-cyan);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: bold;
            font-family: 'Orbitron', sans-serif;
        }
        .logo svg {
            width: 32px;
            height: 32px;
            color: var(--cyber-cyan);
        }
        .logout-btn {
            background: linear-gradient(135deg, var(--cyber-red), #cc0044);
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            transition: all 0.3s;
        }
        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 0, 85, 0.4);
        }
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .section {
            background: rgba(23, 25, 38, 0.95);
            border: 1px solid var(--cyber-border);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .section-header svg {
            width: 32px;
            height: 32px;
            color: var(--cyber-cyan);
        }
        .section-header h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
        }
        .form-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .form-row input,
        .form-row textarea {
            flex: 1;
        }
        input[type="url"],
        textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(26, 31, 58, 0.5);
            border: 1px solid var(--cyber-border);
            border-radius: 8px;
            color: var(--cyber-text);
            font-family: 'Rajdhani', sans-serif;
            font-size: 16px;
        }
        input:focus,
        textarea:focus {
            outline: none;
            border-color: var(--cyber-cyan);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
        }
        textarea {
            resize: vertical;
            min-height: 120px;
        }
        .btn {
            background: linear-gradient(135deg, var(--cyber-blue), var(--cyber-cyan));
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);
        }
        .btn svg {
            width: 16px;
            height: 16px;
        }
        .results {
            margin-top: 1.5rem;
            animation: fadeIn 0.5s;
        }
        .result-card {
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid;
            background: rgba(30, 34, 51, 0.8);
        }
        .result-card.low {
            border-color: var(--cyber-cyan);
            box-shadow: 0 2px 12px rgba(0, 212, 255, 0.1);
        }
        .result-card.medium {
            border-color: var(--cyber-amber);
            box-shadow: 0 2px 12px rgba(255, 170, 0, 0.1);
        }
        .result-card.high {
            border-color: var(--cyber-red);
            box-shadow: 0 2px 14px rgba(255, 0, 85, 0.1);
        }
        .score-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        .score-value {
            font-size: 1.5rem;
            font-weight: bold;
            font-family: 'Orbitron', sans-serif;
        }
        .score-value.low { color: var(--cyber-cyan); }
        .score-value.medium { color: var(--cyber-amber); }
        .score-value.high { color: var(--cyber-red); }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #10131f;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        .progress-fill {
            height: 100%;
            transition: width 1s;
            border-radius: 4px;
        }
        .progress-fill.low { background: var(--cyber-cyan); }
        .progress-fill.medium { background: var(--cyber-amber); }
        .progress-fill.high { background: var(--cyber-red); }
        .warning-list {
            list-style: none;
            padding: 0;
        }
        .warning-list li {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            align-items: flex-start;
        }
        .warning-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            margin-top: 0.5rem;
            flex-shrink: 0;
        }
        .warning-dot.low { background: var(--cyber-cyan); }
        .warning-dot.medium { background: var(--cyber-amber); }
        .warning-dot.high { background: var(--cyber-red); }
        .encrypt-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1.5rem;
        }
        .encrypt-card {
            background: rgba(26, 31, 58, 0.5);
            border: 1px solid var(--cyber-border);
            border-radius: 8px;
            padding: 1.5rem;
        }
        .encrypt-card h3 {
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 1rem;
        }
        .shift-input {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .shift-input input {
            width: 80px;
        }
        .result-display {
            background: #131623;
            border: 1px solid;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }
        .result-display.encrypted { border-color: var(--cyber-cyan); }
        .result-display.decrypted { border-color: var(--cyber-green); }
        .result-display h4 {
            color: var(--cyber-cyan);
            margin-bottom: 0.5rem;
            font-family: 'Orbitron', sans-serif;
        }
        .result-text {
            font-family: 'Courier New', monospace;
            word-break: break-all;
            color: #aeeaff;
        }
        .hidden { display: none; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            .auth-container { max-width: 100%; }
            .auth-card { padding: 30px 20px; }
            .encrypt-grid { grid-template-columns: 1fr; }
            .nav-container { padding: 0 1rem; }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <div class="cyber-background">
            <div class="grid-overlay"></div>
            <div class="circuit-lines"></div>
        </div>

        <div class="auth-container">
            <div class="security-badge">
                <svg class="shield-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
            </div>

            <div class="auth-card">
                <h1 class="auth-title">Secure Access</h1>
                <p class="auth-subtitle">Login to access CyberSecure Pro tools</p>

                <div class="login-mode-toggle">
                    <button class="toggle-btn active" id="emailModeBtn">Email</button>
                    <button class="toggle-btn" id="mobileModeBtn">Mobile</button>
                </div>

                <form id="loginForm">
                    <div class="alert-box" id="alertBox"></div>
                    
                    <div class="email-mode-fields">
                        <div class="form-group">
                            <div class="input-wrapper">
                                <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                    <polyline points="22,6 12,13 2,6"/>
                                </svg>
                                <input type="email" id="emailInput" class="cyber-input" placeholder="Email address" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="input-wrapper">
                                <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                </svg>
                                <input type="password" id="passwordInput" class="cyber-input" placeholder="Password" required>
                                <button type="button" class="toggle-password" id="togglePassword">
                                    <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                        <circle cx="12" cy="12" r="3"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="mobile-mode-fields" style="display: none;">
                        <div class="form-group">
                            <div class="input-wrapper phone-input">
                                <select id="countryCode" class="country-code">
                                    <option value="+1">+1</option>
                                    <option value="+44">+44</option>
                                    <option value="+91">+91</option>
                                </select>
                                <input type="tel" id="mobileInput" class="cyber-input phone-number" placeholder="Mobile number" pattern="[0-9]{10}">
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="cyber-btn" id="loginBtn" disabled>
                        <span>Login</span>
                        <svg class="btn-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"/>
                            <polyline points="12 5 19 12 12 19"/>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div class="main-app" id="mainApp">
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2L4 7v10c0 5.55 3.84 9.74 9 9 5.16-.74 9-4.45 9-10V7L12 2z"/>
                    </svg>
                    <span>CyberSecure Pro</span>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </nav>

        <div class="main-content">
            <!-- Website Security Analysis -->
            <section class="section">
                <div class="section-header">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    <h2>Website Security Analysis</h2>
                </div>
                <div class="form-row">
                    <input type="url" id="websiteUrl" placeholder="Enter website URL (e.g., https://example.com)">
                    <button class="btn" onclick="analyzeWebsite()">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                        Analyze
                    </button>
                </div>
                <div id="websiteResults" class="results hidden"></div>
            </section>

            <!-- Email Analysis -->
            <section class="section">
                <div class="section-header">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                    </svg>
                    <h2>Phishing Email Detection</h2>
                </div>
                <textarea id="emailContent" placeholder="Paste email content here for analysis..."></textarea>
                <button class="btn" style="margin-top: 1rem;" onclick="analyzeEmail()">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                    Analyze Email
                </button>
                <div id="emailResults" class="results hidden"></div>
            </section>

            <!-- Encryption & Decryption -->
            <section class="section">
                <div class="section-header">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                    </svg>
                    <h2>Data Encryption & Decryption</h2>
                </div>
                <div class="encrypt-grid">
                    <div class="encrypt-card">
                        <h3>Encrypt Text</h3>
                        <textarea id="encryptText" placeholder="Enter text to encrypt..."></textarea>
                        <div class="shift-input">
                            <label>Shift Key:</label>
                            <input type="number" id="encryptKey" value="3" min="1" max="25">
                        </div>
                        <button class="btn" style="width: 100%;" onclick="handleEncrypt()">Encrypt</button>
                        <div id="encryptedResult" class="result-display encrypted hidden">
                            <h4>Encrypted Result:</h4>
                            <p class="result-text" id="encryptedText"></p>
                        </div>
                    </div>
                    <div class="encrypt-card">
                        <h3>Decrypt Text</h3>
                        <textarea id="decryptText" placeholder="Enter text to decrypt..."></textarea>
                        <div class="shift-input">
                            <label>Shift Key:</label>
                            <input type="number" id="decryptKey" value="3" min="1" max="25">
                        </div>
                        <button class="btn" style="width: 100%;" onclick="handleDecrypt()">Decrypt</button>
                        <div id="decryptedResult" class="result-display decrypted hidden">
                            <h4>Decrypted Result:</h4>
                            <p class="result-text" id="decryptedText"></p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script>
        let currentMode = 'email';
        let isLoggedIn = false;

        // Login Form Elements
        const emailModeBtn = document.getElementById('emailModeBtn');
        const mobileModeBtn = document.getElementById('mobileModeBtn');
        const emailModeFields = document.querySelector('.email-mode-fields');
        const mobileModeFields = document.querySelector('.mobile-mode-fields');
        const loginForm = document.getElementById('loginForm');
        const loginBtn = document.getElementById('loginBtn');
        const emailInput = document.getElementById('emailInput');
        const passwordInput = document.getElementById('passwordInput');
        const mobileInput = document.getElementById('mobileInput');
        const togglePassword = document.getElementById('togglePassword');
        const alertBox = document.getElementById('alertBox');
        const loginPage = document.getElementById('loginPage');
        const mainApp = document.getElementById('mainApp');

        // Switch between email and mobile login
        emailModeBtn.addEventListener('click', () => switchMode('email'));
        mobileModeBtn.addEventListener('click', () => switchMode('mobile'));

        function switchMode(mode) {
            currentMode = mode;
            if (mode === 'email') {
                emailModeBtn.classList.add('active');
                mobileModeBtn.classList.remove('active');
                emailModeFields.style.display = 'block';
                mobileModeFields.style.display = 'none';
                emailInput.setAttribute('required', 'required');
                passwordInput.setAttribute('required', 'required');
                mobileInput.removeAttribute('required');
            } else {
                mobileModeBtn.classList.add('active');
                emailModeBtn.classList.remove('active');
                mobileModeFields.style.display = 'block';
                emailModeFields.style.display = 'none';
                mobileInput.setAttribute('required', 'required');
                emailInput.removeAttribute('required');
                passwordInput.removeAttribute('required');
            }
            validateInputs();
            hideAlert();
        }

        // Validate inputs
        emailInput.addEventListener('input', validateInputs);
        passwordInput.addEventListener('input', validateInputs);
        mobileInput.addEventListener('input', validateInputs);

        function validateInputs() {
            let isValid = false;
            if (currentMode === 'email') {
                const emailValue = emailInput.value.trim();
                const passwordValue = passwordInput.value.trim();
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                isValid = emailRegex.test(emailValue) && passwordValue.length >= 6;
            } else {
                const mobileValue = mobileInput.value.trim();
                const mobileRegex = /^[0-9]{10}$/;
                isValid = mobileRegex.test(mobileValue);
            }
            loginBtn.disabled = !isValid;
        }

        // Toggle password visibility
        togglePassword.addEventListener('click', () => {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
        });

        // Login form submission
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            if (loginBtn.disabled) return;

            loginBtn.disabled = true;
            loginBtn.innerHTML = '<span>Logging in...</span>';

            try {
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Simulate successful login
                showAlert('success', 'Login successful! Redirecting...');
                
                setTimeout(() => {
                    isLoggedIn = true;
                    loginPage.style.display = 'none';
                    mainApp.style.display = 'block';
                }, 1000);
            } catch (error) {
                showAlert('error', 'Login failed. Please try again.');
                loginBtn.disabled = false;
                loginBtn.innerHTML = '<span>Login</span><svg class="btn-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>';
            }
        });

        function showAlert(type, message) {
            alertBox.className = `alert-box ${type}`;
            alertBox.textContent = message;
            alertBox.style.display = 'block';
        }

        function hideAlert() {
            alertBox.style.display = 'none';
        }

        function logout() {
            isLoggedIn = false;
            loginPage.style.display = 'flex';
            mainApp.style.display = 'none';
            emailInput.value = '';
            passwordInput.value = '';
            mobileInput.value = '';
            loginBtn.disabled = true;
            loginBtn.innerHTML = '<span>Login</span><svg class="btn-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>';
            hideAlert();
        }

        // Website Security Analysis
        function analyzeWebsite() {
            const url = document.getElementById('websiteUrl').value.trim();
            const resultsDiv = document.getElementById('websiteResults');
            
            if (!url) return;

            let score = 0;
            const strengths = [];
            const concerns = [];

            if (url.toLowerCase().startsWith('https://')) {
                score += 30;
                strengths.push('HTTPS encryption enabled');
            } else {
                concerns.push('No HTTPS detected (use HTTPS for secure communication)');
            }

            if (/\/\/www\./.test(url)) {
                score += 10;
                strengths.push('www subdomain detected');
            } else {
                concerns.push('No www subdomain (recommended for legacy compatibility)');
            }

            if (/\.(com|org|net|edu|gov)$/i.test(url)) {
                score += 10;
                strengths.push('Recognized top-level domain (.com, .org, etc.)');
            } else {
                concerns.push('Unusual or less common TLD');
            }

            concerns.push('Configure a proper Content Security Policy for higher security');
            concerns.push('Ensure X-Frame-Options header is set to prevent clickjacking');

            let riskLevel = score > 35 ? 'low' : (score > 20 ? 'medium' : 'high');
            let safeScore = Math.min(Math.max(score, 0), 50);

            resultsDiv.innerHTML = `
                <div class="result-card ${riskLevel}">
                    <div class="score-header">
                        <span>Risk Level</span>
                        <span class="score-value ${riskLevel}">${riskLevel.toUpperCase()}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill ${riskLevel}" style="width:${safeScore * 2}%;"></div>
                    </div>
                    <ul class="warning-list">
                        ${concerns.map(c => `<li><span class="warning-dot ${riskLevel}"></span>${c}</li>`).join('')}
                    </ul>
                    <div style="margin-top:1em;color:var(--cyber-cyan);">
                        <strong>Strengths:</strong><br>
                        ${strengths.join('<br>')}
                    </div>
                </div>
            `;
            resultsDiv.classList.remove('hidden');
        }

        // Email Analysis
        function analyzeEmail() {
            const emailContent = document.getElementById('emailContent').value.trim();
            const resultsDiv = document.getElementById('emailResults');
            
            if (!emailContent) return;

            let risk = 'low', score = 0;
            const redFlags = [];

            const patterns = [
                {word: /click (here|now)/i, desc: 'Suspicious call to action'},
                {word: /urgent/i, desc: 'Urgency language'},
                {word: /verify (your|the) account/i, desc: 'Requests account verification'},
                {word: /password|bank|social security|ssn/i, desc: 'Requests sensitive information'},
                {word: /unusual activity|limited time/i, desc: 'Unusual activity notice'},
                {word: /login (now)?/i, desc: 'Unusual login or login link'},
                {word: /prize|winner|won/i, desc: 'Mentions of prizes or winnings'},
            ];

            if (/\bhttps?:\/\/\S+\b/i.test(emailContent)) {
                score += 15;
                redFlags.push('Links detected (potential malicious URLs)');
            }

            if (/attachment/i.test(emailContent)) {
                score += 10;
                redFlags.push('Mentions of attachments (potential malware)');
            }

            patterns.forEach(p => {
                if (p.word.test(emailContent)) {
                    score += 15;
                    redFlags.push(p.desc);
                }
            });

            if (score > 40) risk = "high";
            else if (score > 20) risk = "medium";
            else risk = "low";

            resultsDiv.innerHTML = `
                <div class="result-card ${risk}">
                    <div class="score-header">
                        <span>Risk Level</span>
                        <span class="score-value ${risk}">${risk.toUpperCase()}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill ${risk}" style="width:${Math.min(score, 50)*2}%;"></div>
                    </div>
                    <ul class="warning-list">
                        ${redFlags.length > 0 ? redFlags.map(c => `<li><span class="warning-dot ${risk}"></span>${c}</li>`).join('') : '<li>No major phishing indicators found.</li>'}
                    </ul>
                    <div style="margin-top:1em;color:var(--cyber-cyan);">
                        <strong>General Advice:</strong><br>
                        Beware of unknown senders and verify links before clicking.
                    </div>
                </div>
            `;
            resultsDiv.classList.remove('hidden');
        }

        // Caesar Cipher Encryption
        function caesarEncrypt(text, shift) {
            const a = 'a'.charCodeAt(0);
            const A = 'A'.charCodeAt(0);
            return text.split('').map(ch => {
                if (ch >= 'a' && ch <= 'z') {
                    return String.fromCharCode(a + (ch.charCodeAt(0) - a + shift) % 26);
                } else if (ch >= 'A' && ch <= 'Z') {
                    return String.fromCharCode(A + (ch.charCodeAt(0) - A + shift) % 26);
                } else {
                    return ch;
                }
            }).join('');
        }

        function caesarDecrypt(text, shift) {
            return caesarEncrypt(text, 26 - (shift % 26));
        }

        function handleEncrypt() {
            const text = document.getElementById('encryptText').value;
            let shift = parseInt(document.getElementById('encryptKey').value) || 3;
            const resultDiv = document.getElementById('encryptedResult');
            const resultText = document.getElementById('encryptedText');

            if (!text) return;

            resultText.textContent = caesarEncrypt(text, shift);
            resultDiv.classList.remove('hidden');
        }

        function handleDecrypt() {
            const text = document.getElementById('decryptText').value;
            let shift = parseInt(document.getElementById('decryptKey').value) || 3;
            const resultDiv = document.getElementById('decryptedResult');
            const resultText = document.getElementById('decryptedText');

            if (!text) return;

            resultText.textContent = caesarDecrypt(text, shift);
            resultDiv.classList.remove('hidden');
        }
    </script>
</body>
</html>